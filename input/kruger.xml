<!--
 * kruger.xml
 * 
 * Author
 *     Andrew Brown
-->



<texture2d name="target" size="512">
	<translate>
		<framebuffer>
			<target link="target" />
			<program>
				<shader type="fragment" file="../glsl/coordinates.frag" />
				<cull faces="front">
					<box/>
				</cull>
			</program>
		</framebuffer>
		<program>
			<shader type="fragment" file="../glsl/kruger.frag" />
			<texture3d file="bear.vlb" name="volume">
			<uniform type="sampler3d" name="volume" link="volume">
				<uniform type="sampler2d" name="target" link="target">
					<uniform type="int" name="samples" value="256">
						<cull faces="back">
							<box />
						</cull>
					</uniform>
				</uniform>
			</uniform>
			</texture3d>
		</program>
	</translate>
</texture2d>
