<!--
 * octree.xml
 * 
 * Author
 *     Andrew Brown <adb1413@rit.edu>
-->


<translate>
	<texture2d name="buffer" size="512">
		<framebuffer>
			<target link="buffer"/>
			<program>
				<shader file="coordinates.vert" />
				<shader file="coordinates.frag" />
				<uniform type="mat4" name="MVPMatrix" link="modelviewprojection" />
				<cull faces="front">
					<cube />
				</cull>
			</program>
		</framebuffer>
		<texture3d file="../textures/chunk.vlb" name="volume">
		<octree name="octree" link="volume" threshold="80">
			<program>
				<shader file="octree.vert"/>
				<shader file="octree.frag"/>
				<uniform type="mat4" name="MVPMatrix" link="modelviewprojection" />
				<uniform type="sampler2D" name="buffer" link="buffer" />
				<uniform type="sampler3D" name="volume" link="volume" />
				<uniform type="usampler1D" name="octree" link="octree" />
				<uniform type="int" name="height" value="1" />
				<cube />
			</program>
		</octree>
		</texture3d>
	</texture2d>
</translate>
